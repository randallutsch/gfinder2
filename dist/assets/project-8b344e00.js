import{U as u}from"./request-c6faf466.js";import{b as S}from"./ensureType-abaf235a.js";import{c as f}from"./jsonUtils-eb956695.js";import{f as d,i as h,o as g}from"./utils-a49efee8.js";import{e as i,y as s,n as y,l as R}from"./cast-34ff1fab.js";import"./typedArrayUtil-6bfe4dae.js";let o=class extends R{constructor(t){super(t),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const t=this.geometries.map(a=>a.toJSON()),e=this.geometries[0],r={};return r.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),r.inSR=e.spatialReference.wkid||JSON.stringify(e.spatialReference.toJSON()),r.geometries=JSON.stringify({geometryType:f(e),geometries:t}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(r.transformForward=this.transformForward),r}};i([s()],o.prototype,"geometries",void 0),i([s({json:{read:{source:"outSR"}}})],o.prototype,"outSpatialReference",void 0),i([s()],o.prototype,"transformation",void 0),i([s()],o.prototype,"transformForward",void 0),o=i([y("esri.rest.support.ProjectParameters")],o);const J=o,N=S(J);async function x(n,t,e){t=N(t);const r=d(n),a={...r.query,f:"json",...t.toJSON()},m=t.outSpatialReference,p=f(t.geometries[0]),c=h(a,e);return u(r.path+"/project",c).then(({data:{geometries:l}})=>g(l,p,m))}export{J as a,x as n};
