import{T as dt,a as Oo,S as ko}from"./ensureType-abaf235a.js";import{e,y as o,n as l,l as m,s as ve,m as At,g as Ie,p as No}from"./cast-34ff1fab.js";import{d as Tt}from"./CIMSymbol-31fb7ca2.js";import{r as p,t as Fe}from"./typedArrayUtil-6bfe4dae.js";import{r as y}from"./enumeration-e40d8895.js";import{r as Q,o as wt}from"./Extent-b8913cd1.js";import{l as u}from"./Color-0f9fdd46.js";import{y as n}from"./string-46813dd9.js";import{o as c,e as rt}from"./screenUtils-7afeb41c.js";import{r as Do,n as Co}from"./opacityUtils-ea6b845d.js";import{s as $e}from"./Error-e5869661.js";import{e as Mo,n as Po,p as _o,m as Wt,S as Ee}from"./SimpleFillSymbol-80498a78.js";import{o as Se,s as Ao}from"./jsonMap-92eea954.js";import{a as To}from"./common-701a4199.js";import{u as je}from"./aaBoundingBox-77ee83e3.js";import{a as Wo}from"./mathUtils-daf59e84.js";import{X as Be,K as xe,F as Ve,e as Je,N as Uo,G as Ho,n as Io}from"./request-0ae6f728.js";import{c as ze,m as Ke,p as Xe,f as _t}from"./persistableUrlUtils-94eb42ca.js";import{j as H}from"./Collection-3317d203.js";import{t as Fo,n as Ro}from"./collectionUtils-23cca63a.js";import{j as Ut}from"./Portal-ed3455de.js";import{i as Ge}from"./Clonable-a26a28b0.js";import{a as k}from"./Symbol-8a110cc7.js";import{_ as qo}from"./preload-helper-596b5639.js";import{f as Eo}from"./promiseUtils-281d25c9.js";let Y=class extends m{constructor(r){super(r),this.enabled=!0,this.type=null}writeEnabled(r,s,i){r||(s[i]=r)}};e([o({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Y.prototype,"enabled",void 0),e([Q("enabled")],Y.prototype,"writeEnabled",null),e([o({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Y.prototype,"type",void 0),Y=e([l("esri.symbols.Symbol3DLayer")],Y);const N=Y;function Bo(t,r){const s=r.transparency!=null?Do(r.transparency):1,i=r.color;return i&&Array.isArray(i)?new u([i[0]||0,i[1]||0,i[2]||0,s]):null}function Vo(t,r){r.color=t.toJSON().slice(0,3);const s=Co(t.a);s!==0&&(r.transparency=s)}const I={type:u,json:{type:[dt],default:null,read:{source:["color","transparency"],reader:Bo},write:{target:{color:{type:[dt]},transparency:{type:dt}},writer:Vo}}},O={type:Number,cast:c,json:{write:!0}};let R=class extends m{constructor(r){super(r),this.color=new u([0,0,0,1]),this.extensionLength=0,this.size=rt(1)}clone(){}cloneProperties(){return{color:n(this.color),size:this.size,extensionLength:this.extensionLength}}};e([o({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],R.prototype,"type",void 0),e([o(I)],R.prototype,"color",void 0),e([o({...O,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],R.prototype,"extensionLength",void 0),e([o(O)],R.prototype,"size",void 0),R=e([l("esri.symbols.edges.Edges3D")],R);const Le=R;var qt;let jt=qt=class extends Le{constructor(t){super(t),this.type="sketch"}clone(){return new qt(this.cloneProperties())}};e([y({sketch:"sketch"},{readOnly:!0})],jt.prototype,"type",void 0),jt=qt=e([l("esri.symbols.edges.SketchEdges3D")],jt);const Jo=jt;var Et;let xt=Et=class extends Le{constructor(t){super(t),this.type="solid"}clone(){return new Et(this.cloneProperties())}};e([y({solid:"solid"},{readOnly:!0})],xt.prototype,"type",void 0),xt=Et=e([l("esri.symbols.support.SolidEdges3D")],xt);const Ko=xt,Qe={types:{key:"type",base:Le,typeMap:{solid:Ko,sketch:Jo}},json:{write:!0}};var Bt;let w=Bt=class extends m{constructor(t){super(t),this.color=null}clone(){const t={color:p(this.color)?this.color.clone():null};return new Bt(t)}};e([o(I)],w.prototype,"color",void 0),w=Bt=e([l("esri.symbols.support.Symbol3DMaterial")],w);var Vt;let _=Vt=class extends N{constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new Vt({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:p(this.material)?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};e([y({Extrude:"extrude"},{readOnly:!0})],_.prototype,"type",void 0),e([o({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],_.prototype,"size",void 0),e([o({type:w,json:{write:!0}})],_.prototype,"material",void 0),e([o({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],_.prototype,"castShadows",void 0),e([o(Qe)],_.prototype,"edges",void 0),_=Vt=e([l("esri.symbols.ExtrudeSymbol3DLayer")],_);const Ye=_;let zt=class extends m{constructor(r){super(r)}clone(){}};e([o({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],zt.prototype,"type",void 0),zt=e([l("esri.symbols.patterns.LinePattern3D")],zt);const Ze=zt,Xo=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var Jt;const Go=Se()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let it=Jt=class extends Ze{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new Jt(t)}};e([o({type:["style"]})],it.prototype,"type",void 0),e([y(Go),o({type:Xo})],it.prototype,"style",void 0),it=Jt=e([l("esri.symbols.patterns.LineStylePattern3D")],it);const Oe=it;let Lt=class extends m{constructor(r){super(r)}clone(){}};e([o({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Lt.prototype,"type",void 0),Lt=e([l("esri.symbols.patterns.Pattern3D")],Lt);const to=Lt,Qo=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var Kt;let lt=Kt=class extends to{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new Kt(t)}};e([o({type:["style"]})],lt.prototype,"type",void 0),e([o({type:Qo,json:{read:!0,write:!0}})],lt.prototype,"style",void 0),lt=Kt=e([l("esri.symbols.patterns.StylePattern3D")],lt);const eo=lt,Yo={types:{key:"type",base:to,typeMap:{style:eo}},json:{write:!0}},oo={types:{key:"type",base:Ze,typeMap:{style:Oe}},json:{write:!0}},mt=new u("white");new u("black");const Zo=new u([255,255,255,0]);function tr(t){return t.r===0&&t.g===0&&t.b===0}var Xt;let bt=Xt=class extends w{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:p(this.color)?this.color.clone():null,colorMixMode:this.colorMixMode};return new Xt(t)}};e([y({multiply:"multiply",replace:"replace",tint:"tint"})],bt.prototype,"colorMixMode",void 0),bt=Xt=e([l("esri.symbols.support.Symbol3DFillMaterial")],bt);function Qr(t,{isPrimitive:r,width:s,depth:i,height:a}){const D=r?10:1;if(s==null&&a==null&&i==null)return[D*t[0],D*t[1],D*t[2]];const C=To(s,i,a);let F;for(let S=0;S<3;S++){const He=C[S];if(He!=null){F=He/t[S];break}}for(let S=0;S<3;S++)C[S]==null&&(C[S]=t[S]*F);return C}const er=je(-.5,-.5,-.5,.5,.5,.5),or=je(-.5,-.5,0,.5,.5,1),rr=je(-.5,-.5,0,.5,.5,.5);function Yr(t){switch(t){case"sphere":case"cube":case"diamond":return er;case"cylinder":case"cone":case"inverted-cone":return or;case"tetrahedron":return rr;default:return}}const ke=["butt","square","round"],sr=[...ke,"none"],ro=["miter","bevel","round"];var Gt;let q=Gt=class extends m{constructor(t){super(t),this.color=new u([0,0,0,1]),this.size=rt(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:p(this.color)?this.color.clone():null,size:this.size,pattern:p(this.pattern)?this.pattern.clone():null,patternCap:this.patternCap};return new Gt(t)}};e([o(I)],q.prototype,"color",void 0),e([o(O)],q.prototype,"size",void 0),e([o(oo)],q.prototype,"pattern",void 0),e([o({type:ke,json:{default:"butt",write:{overridePolicy(){return{enabled:p(this.pattern)}}}}})],q.prototype,"patternCap",void 0),q=Gt=e([l("esri.symbols.support.Symbol3DOutline")],q);var Ot;let M=Ot=class extends N{constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:p(this.edges)?this.edges.clone():null,enabled:this.enabled,material:p(this.material)?this.material.clone():null,pattern:p(this.pattern)?this.pattern.clone():null,castShadows:this.castShadows,outline:p(this.outline)?this.outline.clone():null};return new Ot(t)}static fromSimpleFillSymbol(t){var i,a,D;const r=t.outline&&t.outline.style&&t.outline.style!=="inside-frame"&&t.outline.style!=="solid"?new Oe({style:t.outline.style}):null,s={size:((i=t.outline)==null?void 0:i.width)??0,color:(((a=t.outline)==null?void 0:a.color)??mt).clone(),pattern:r};return r&&((D=t.outline)!=null&&D.cap)&&(s.patternCap=t.outline.cap),new Ot({material:new bt({color:(t.color??Zo).clone()}),pattern:t.style&&t.style!=="solid"?new eo({style:t.style}):null,outline:s})}};e([y({Fill:"fill"},{readOnly:!0})],M.prototype,"type",void 0),e([o({type:bt,json:{write:!0}})],M.prototype,"material",void 0),e([o(Yo)],M.prototype,"pattern",void 0),e([o({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],M.prototype,"castShadows",void 0),e([o({type:q,json:{write:!0}})],M.prototype,"outline",void 0),e([o(Qe)],M.prototype,"edges",void 0),M=Ot=e([l("esri.symbols.FillSymbol3DLayer")],M);const vt=M,ir=["none","underline","line-through"],lr=["normal","italic","oblique"],nr=["normal","lighter","bold","bolder"],so={type:Number,cast:t=>{const r=Oo(t);return r===0?1:Wo(r,.1,4)},nonNullable:!0},ar=["left","right","center"],pr=["baseline","top","middle","bottom"],io={type:ar,nonNullable:!0},lo={type:pr,nonNullable:!0};var Qt;let P=Qt=class extends m{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return c(t)}clone(){return new Qt({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};e([o({type:ir,json:{default:"none",write:!0}})],P.prototype,"decoration",void 0),e([o({type:String,json:{write:!0}})],P.prototype,"family",void 0),e([o({type:Number,json:{write:{overridePolicy:(t,r,s)=>({enabled:!s||!s.textSymbol3D})}}})],P.prototype,"size",void 0),e([ve("size")],P.prototype,"castSize",null),e([o({type:lr,json:{default:"normal",write:!0}})],P.prototype,"style",void 0),e([o({type:nr,json:{default:"normal",write:!0}})],P.prototype,"weight",void 0),P=Qt=e([l("esri.symbols.Font")],P);const Ht=P;var Yt;const yr=Se()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let E=Yt=class extends m{constructor(t){super(t)}readHref(t,r,s){return t?ze(t,s):r.dataURI}writeHref(t,r,s,i){t&&(Be(t)?r.dataURI=t:(r.href=Ke(t,i),xe(r.href)&&(r.href=Ve(r.href))))}clone(){return new Yt({href:this.href,primitive:this.primitive})}};e([o({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],E.prototype,"href",void 0),e([wt("href")],E.prototype,"readHref",null),e([Q("href",{href:{type:String},dataURI:{type:String}})],E.prototype,"writeHref",null),e([y(yr)],E.prototype,"primitive",void 0),E=Yt=e([l("esri.symbols.support.IconSymbol3DLayerResource")],E);var Zt;let et=Zt=class extends At{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new Zt({x:this.x,y:this.y})}};e([o({type:Number})],et.prototype,"x",void 0),e([o({type:Number})],et.prototype,"y",void 0),et=Zt=e([l("esri.symbols.support.Symbol3DAnchorPosition2D")],et);var te;let nt=te=class extends m{constructor(t){super(t),this.color=new u([0,0,0,1]),this.size=rt(1)}clone(){const t={color:p(this.color)?this.color.clone():null,size:this.size};return new te(t)}};e([o(I)],nt.prototype,"color",void 0),e([o(O)],nt.prototype,"size",void 0),nt=te=e([l("esri.symbols.support.Symbol3DIconOutline")],nt);var Z;const no="esri.symbols.IconSymbol3DLayer";let j=Z=class extends N{constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new Z({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:p(this.material)?this.material.clone():null,outline:p(this.outline)?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(t){const r=t.color||mt,s=Re(t),i=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||mt).clone()}:null;return new Z({size:t.size,resource:{primitive:cr(t.style)},material:{color:r},outline:i,anchor:s?"relative":void 0,anchorPosition:s})}static fromPictureMarkerSymbol(t){const r=!t.color||tr(t.color)?mt:t.color,s=Re(t);return new Z({size:t.width<=t.height?t.height:t.width,resource:{href:t.url},material:{color:r.clone()},anchor:s?"relative":void 0,anchorPosition:s})}static fromCIMSymbol(t){return new Z({resource:{href:Je({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};function Re(t){const r="width"in t?t.width:t.size,s="height"in t?t.height:t.size,i=qe(t.xoffset),a=qe(t.yoffset);return(i||a)&&r&&s?{x:-i/r,y:a/s}:null}function qe(t){return isFinite(t)?t:0}e([o({type:w,json:{write:!0}})],j.prototype,"material",void 0),e([o({type:E,json:{write:!0}})],j.prototype,"resource",void 0),e([y({Icon:"icon"},{readOnly:!0})],j.prototype,"type",void 0),e([o(O)],j.prototype,"size",void 0),e([y({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),o({json:{default:"center"}})],j.prototype,"anchor",void 0),e([o({type:et,json:{type:[Number],read:{reader:t=>new et({x:t[0],y:t[1]})},write:{writer:(t,r)=>{r.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],j.prototype,"anchorPosition",void 0),e([o({type:nt,json:{write:!0}})],j.prototype,"outline",void 0),j=Z=e([l(no)],j);const hr={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function cr(t){return hr[t]||($e.getLogger(no).warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const G=j;let B=class extends Ge(m){constructor(r){super(r),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(r){return p(r)&&r.placement===this.placement&&r.style===this.style&&(Fe(this.color)&&Fe(r.color)||p(this.color)&&p(r.color)&&this.color.toJSON()===r.color.toJSON())}};e([o({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],B.prototype,"type",void 0),e([o({type:Mo,json:{default:"begin-end",write:!0}})],B.prototype,"placement",void 0),e([o({type:Po,json:{default:"arrow",write:!0}})],B.prototype,"style",void 0),e([o({type:u,json:{type:[dt],default:null,write:!0}})],B.prototype,"color",void 0),B=e([l("esri.symbols.LineStyleMarker3D")],B);const ee=B;var kt;let x=kt=class extends N{constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=rt(1),this.pattern=null,this.marker=null}clone(){const t={enabled:this.enabled,material:p(this.material)?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:p(this.pattern)?this.pattern.clone():null,marker:p(this.marker)?this.marker.clone():null};return new kt(t)}static fromSimpleLineSymbol(t){var s;const r={enabled:!0,size:t.width??rt(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style&&t.style!=="inside-frame"?new Oe({style:t.style}):null,material:new w({color:(t.color||mt).clone()}),marker:t.marker?new ee({placement:t.marker.placement,style:t.marker.style,color:((s=t.marker.color)==null?void 0:s.clone())??null}):null};return new kt(r)}};e([o({type:w,json:{write:!0}})],x.prototype,"material",void 0),e([y({Line:"line"},{readOnly:!0})],x.prototype,"type",void 0),e([o({type:ro,json:{write:!0,default:"miter"}})],x.prototype,"join",void 0),e([o({type:ke,json:{write:!0,default:"butt"}})],x.prototype,"cap",void 0),e([o(O)],x.prototype,"size",void 0),e([o(oo)],x.prototype,"pattern",void 0),e([o({types:{key:"type",base:ee,typeMap:{style:ee}},json:{write:!0}})],x.prototype,"marker",void 0),x=kt=e([l("esri.symbols.LineSymbol3DLayer")],x);const $t=x;var oe;const ur=Se()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let at=oe=class extends m{clone(){return new oe({href:this.href,primitive:this.primitive})}};e([o({type:String,json:{read:Xe,write:_t}})],at.prototype,"href",void 0),e([y(ur)],at.prototype,"primitive",void 0),at=oe=e([l("esri.symbols.support.ObjectSymbol3DLayerResource")],at);var re;let X=re=class extends At{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new re({x:this.x,y:this.y,z:this.z})}};e([o({type:Number})],X.prototype,"x",void 0),e([o({type:Number})],X.prototype,"y",void 0),e([o({type:Number})],X.prototype,"z",void 0),X=re=e([l("esri.symbols.support.Symbol3DAnchorPosition3D")],X);var se;let d=se=class extends N{constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new se({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:p(this.material)?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};e([o({type:w,json:{write:!0}})],d.prototype,"material",void 0),e([o({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],d.prototype,"castShadows",void 0),e([o({type:at,json:{write:!0}})],d.prototype,"resource",void 0),e([y({Object:"object"},{readOnly:!0})],d.prototype,"type",void 0),e([o({type:Number,json:{write:!0}})],d.prototype,"width",void 0),e([o({type:Number,json:{write:!0}})],d.prototype,"height",void 0),e([o({type:Number,json:{write:!0}})],d.prototype,"depth",void 0),e([y({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),o({json:{default:"origin"}})],d.prototype,"anchor",void 0),e([o({type:X,json:{type:[Number],read:{reader:t=>new X({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,r)=>{r.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],d.prototype,"anchorPosition",void 0),e([o({type:Number,json:{write:!0}})],d.prototype,"heading",void 0),e([o({type:Number,json:{write:!0}})],d.prototype,"tilt",void 0),e([o({type:Number,json:{write:!0}})],d.prototype,"roll",void 0),e([o({readOnly:!0})],d.prototype,"isPrimitive",null),d=se=e([l("esri.symbols.ObjectSymbol3DLayer")],d);const Ne=d;var ie;let b=ie=class extends N{constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,r){return t??(r.height==null&&r.size!=null?r.size:void 0)}readHeight(t,r){return t??(r.width==null&&r.size!=null?r.size:void 0)}clone(){return new ie({enabled:this.enabled,material:p(this.material)?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};e([o({type:w,json:{write:!0}})],b.prototype,"material",void 0),e([o({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],b.prototype,"castShadows",void 0),e([y({Path:"path"},{readOnly:!0})],b.prototype,"type",void 0),e([o({type:["circle","quad"],json:{write:!0,default:"circle"}})],b.prototype,"profile",void 0),e([o({type:ro,json:{write:!0,default:"miter"}})],b.prototype,"join",void 0),e([o({type:sr,json:{write:!0,default:"butt"}})],b.prototype,"cap",void 0),e([o({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],b.prototype,"width",void 0),e([wt("width",["width","size","height"])],b.prototype,"readWidth",null),e([o({type:Number,json:{write:!0}})],b.prototype,"height",void 0),e([wt("height",["height","size","width"])],b.prototype,"readHeight",null),e([o({type:["center","bottom","top"],json:{write:!0,default:"center"}})],b.prototype,"anchor",void 0),e([o({type:["heading","all"],json:{write:!0,default:"all"}})],b.prototype,"profileRotation",void 0),b=ie=e([l("esri.symbols.PathSymbol3DLayer")],b);const De=b;var le;let ot=le=class extends m{constructor(){super(...arguments),this.color=new u([0,0,0,1]),this.size=0}clone(){const t={color:n(this.color),size:this.size};return new le(t)}};e([o(I)],ot.prototype,"color",void 0),e([o(O)],ot.prototype,"size",void 0),ot=le=e([l("esri.symbols.support.Symbol3DHalo")],ot);let ft=class extends Ge(m){constructor(r){super(r),this.color=null}};e([o(I)],ft.prototype,"color",void 0),ft=e([l("esri.symbols.support.Symbol3DTextBackground")],ft);var Nt;let f=Nt=class extends N{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(t){p(t)&&p(this._userSize)&&(t.size=this._userSize),this._set("font",t)}writeFont(t,r,s,i){const a={...i,textSymbol3D:!0};r.font=t.write({},a),delete r.font.size}get size(){return p(this._userSize)?this._userSize:p(this.font)&&this.font.size!=null?this.font.size:9}set size(t){this._userSize=t,p(this.font)&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new Nt({enabled:this.enabled,font:this.font&&n(this.font),halo:this.halo&&n(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:p(this.material)?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:n(this.background)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new Nt({font:p(t.font)?t.font.clone():new Ht,halo:dr(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new w({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new ft({color:t.backgroundColor.clone()}):null})}};function dr(t,r){return t&&r!=null&&r>0?new ot({color:n(t),size:r}):null}e([o({type:Ht,json:{write:!0}})],f.prototype,"font",null),e([Q("font")],f.prototype,"writeFont",null),e([o({type:ot,json:{write:!0}})],f.prototype,"halo",void 0),e([o({...io,json:{default:"center",write:!0}})],f.prototype,"horizontalAlignment",void 0),e([o({...so,json:{default:1,write:!0}})],f.prototype,"lineHeight",void 0),e([o({type:w,json:{write:!0}})],f.prototype,"material",void 0),e([o({type:ft,json:{write:!0}})],f.prototype,"background",void 0),e([o(O)],f.prototype,"size",null),e([o({type:String,json:{write:!0}})],f.prototype,"text",void 0),e([y({Text:"text"},{readOnly:!0})],f.prototype,"type",void 0),e([o({...lo,json:{default:"baseline",write:!0}})],f.prototype,"verticalAlignment",void 0),f=Nt=e([l("esri.symbols.TextSymbol3DLayer")],f);const st=f;var ne;let A=ne=class extends N{constructor(t){super(t),this.color=ae.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new ne({color:n(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};e([o({type:u,nonNullable:!0,json:{type:[dt],write:(t,r,s)=>r[s]=t.toArray(u.AlphaMode.UNLESS_OPAQUE),default:()=>ae.clone(),defaultEquals:t=>t.toCss(!0)===ae.toCss(!0)}})],A.prototype,"color",void 0),e([y({Water:"water"},{readOnly:!0})],A.prototype,"type",void 0),e([o({type:["small","medium","large"],json:{write:!0,default:"medium"}})],A.prototype,"waterbodySize",void 0),e([o({type:Number,json:{write:!0,default:null}})],A.prototype,"waveDirection",void 0),e([o({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],A.prototype,"waveStrength",void 0),A=ne=e([l("esri.symbols.WaterSymbol3DLayer")],A);const ae=new u([0,119,190]),ao=A;var pe;let V=pe=class extends At{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new pe({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};e([o({type:String})],V.prototype,"name",void 0),e([o({type:String})],V.prototype,"styleUrl",void 0),e([o({type:String})],V.prototype,"styleName",void 0),e([o({type:Ut})],V.prototype,"portal",void 0),V=pe=e([l("esri.symbols.support.StyleOrigin")],V);const ye=V;var he;let gt=he=class extends At{constructor(){super(...arguments),this.url=""}clone(){return new he({url:this.url})}};e([o({type:String})],gt.prototype,"url",void 0),gt=he=e([l("esri.symbols.support.Thumbnail")],gt);const po={icon:G,object:Ne,line:$t,path:De,fill:vt,extrude:Ye,text:st,water:ao},mr=H.ofType({base:N,key:"type",typeMap:po,errorContext:"symbol-layer"});let z=class extends k{constructor(t){super(t),this.styleOrigin=null,this.thumbnail=null,this.type=null;const r=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,s=r&&r.type||H;this._set("symbolLayers",new s)}get color(){return null}set color(t){this.constructed&&$e.getLogger(this.declaredClass).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(t){Ro(t,this._get("symbolLayers"))}readStyleOrigin(t,r,s){if(t.styleUrl&&t.name){const i=ze(t.styleUrl,s);return new ye({styleUrl:i,name:t.name})}if(t.styleName&&t.name)return new ye({portal:s&&s.portal||Ut.getDefault(),styleName:t.styleName,name:t.name});s&&s.messages&&s.messages.push(new Ie("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:s,definition:t}))}writeStyleOrigin(t,r,s,i){if(t.styleUrl&&t.name){let a=Ke(t.styleUrl,i);xe(a)&&(a=Ve(a)),r.styleOrigin={styleUrl:a,name:t.name}}else t.styleName&&t.name&&(t.portal&&i&&i.portal&&!Uo(t.portal.restUrl,i.portal.restUrl)?i&&i.messages&&i.messages.push(new Ie("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):r.styleOrigin={styleName:t.styleName,name:t.name})}normalizeCtorArgs(t){return t instanceof N||t&&po[t.type]?{symbolLayers:[t]}:Array.isArray(t)?{symbolLayers:t}:t}};e([o({json:{read:!1,write:!1}})],z.prototype,"color",null),e([o({type:mr,nonNullable:!0,json:{write:!0}}),ve(Fo)],z.prototype,"symbolLayers",null),e([o({type:ye})],z.prototype,"styleOrigin",void 0),e([wt("styleOrigin")],z.prototype,"readStyleOrigin",null),e([Q("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],z.prototype,"writeStyleOrigin",null),e([o({type:gt,json:{read:!1}})],z.prototype,"thumbnail",void 0),e([o({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],z.prototype,"type",void 0),z=e([l("esri.symbols.Symbol3D")],z);const St=z;let pt=class extends m{constructor(t){super(t),this.visible=!0}clone(){}};e([o({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],pt.prototype,"type",void 0),e([o({readOnly:!0})],pt.prototype,"visible",void 0),pt=e([l("esri.symbols.callouts.Callout3D")],pt);const yo=pt;var ce;let Dt=ce=class extends m{constructor(){super(...arguments),this.color=new u("white")}clone(){return new ce({color:n(this.color)})}};e([o(I)],Dt.prototype,"color",void 0),Dt=ce=e([l("esri.symbols.callouts.LineCallout3DBorder")],Dt);const ho=Dt;Object.freeze(Object.defineProperty({__proto__:null,default:ho},Symbol.toStringTag,{value:"Module"}));var ue;let T=ue=class extends yo{constructor(t){super(t),this.type="line",this.color=new u([0,0,0,1]),this.size=rt(1),this.border=null}get visible(){return this.size>0&&p(this.color)&&this.color.a>0}clone(){return new ue({color:n(this.color),size:this.size,border:n(this.border)})}};e([y({line:"line"},{readOnly:!0})],T.prototype,"type",void 0),e([o(I)],T.prototype,"color",void 0),e([o(O)],T.prototype,"size",void 0),e([o({type:ho,json:{write:!0}})],T.prototype,"border",void 0),e([o({readOnly:!0})],T.prototype,"visible",null),T=ue=e([l("esri.symbols.callouts.LineCallout3D")],T);const br=T;function Ce(t){if(!t)return!1;const r=t.verticalOffset;return!!r&&!(r.screenLength<=0||p(r.maxWorldLength)&&r.maxWorldLength<=0)}function co(t){if(!t||!t.supportsCallout||!t.supportsCallout())return!1;const r=t.callout;return!!r&&!!r.visible&&!!Ce(t)}const uo={types:{key:"type",base:yo,typeMap:{line:br}},json:{write:!0}};var de;let tt=de=class extends m{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new de({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};e([o(O)],tt.prototype,"screenLength",void 0),e([o({type:Number,nonNullable:!0,json:{write:!0,default:0}})],tt.prototype,"minWorldLength",void 0),e([o({type:Number,json:{write:!0}})],tt.prototype,"maxWorldLength",void 0),tt=de=e([l("esri.symbols.support.Symbol3DVerticalOffset")],tt);const mo=tt;var Ct;const bo=H.ofType({base:null,key:"type",typeMap:{text:st}});let W=Ct=class extends St{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new bo,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return co(this)}hasVisibleVerticalOffset(){return Ce(this)}clone(){return new Ct({styleOrigin:n(this.styleOrigin),symbolLayers:n(this.symbolLayers),thumbnail:n(this.thumbnail),callout:n(this.callout),verticalOffset:n(this.verticalOffset)})}static fromTextSymbol(t){return new Ct({symbolLayers:[st.fromTextSymbol(t)]})}};e([o({type:mo,json:{write:!0}})],W.prototype,"verticalOffset",void 0),e([o(uo)],W.prototype,"callout",void 0),e([o({json:{read:!1,write:!1}})],W.prototype,"styleOrigin",void 0),e([o({type:bo})],W.prototype,"symbolLayers",void 0),e([y({LabelSymbol3D:"label-3d"},{readOnly:!0})],W.prototype,"type",void 0),W=Ct=e([l("esri.symbols.LabelSymbol3D")],W);const Me=W;var Mt;const fo=H.ofType({base:null,key:"type",typeMap:{line:$t,path:De}}),fr=H.ofType({base:null,key:"type",typeMap:{line:$t,path:De}});let yt=Mt=class extends St{constructor(t){super(t),this.symbolLayers=new fo,this.type="line-3d"}clone(){return new Mt({styleOrigin:n(this.styleOrigin),symbolLayers:n(this.symbolLayers),thumbnail:n(this.thumbnail)})}static fromSimpleLineSymbol(t){return new Mt({symbolLayers:[$t.fromSimpleLineSymbol(t)]})}};e([o({type:fo,json:{type:fr}})],yt.prototype,"symbolLayers",void 0),e([y({LineSymbol3D:"line-3d"},{readOnly:!0})],yt.prototype,"type",void 0),yt=Mt=e([l("esri.symbols.LineSymbol3D")],yt);const Pe=yt;let U=class extends k{constructor(r){super(r),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};e([o({type:Number,json:{read:t=>t&&-1*t,write:(t,r)=>r.angle=t&&-1*t}})],U.prototype,"angle",void 0),e([o({type:["simple-marker","picture-marker"],readOnly:!0})],U.prototype,"type",void 0),e([o({type:Number,cast:c,json:{write:!0}})],U.prototype,"xoffset",void 0),e([o({type:Number,cast:c,json:{write:!0}})],U.prototype,"yoffset",void 0),e([o({type:Number,cast:t=>t==="auto"?t:c(t),json:{write:!0}})],U.prototype,"size",void 0),U=e([l("esri.symbols.MarkerSymbol")],U);const go=U;var Pt;const wo=H.ofType({base:null,key:"type",typeMap:{fill:vt}});let ht=Pt=class extends St{constructor(t){super(t),this.symbolLayers=new wo,this.type="mesh-3d"}clone(){return new Pt({styleOrigin:n(this.styleOrigin),symbolLayers:n(this.symbolLayers),thumbnail:n(this.thumbnail)})}static fromSimpleFillSymbol(t){return new Pt({symbolLayers:[vt.fromSimpleFillSymbol(t)]})}};e([o({type:wo})],ht.prototype,"symbolLayers",void 0),e([y({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],ht.prototype,"type",void 0),ht=Pt=e([l("esri.symbols.MeshSymbol3D")],ht);const _e=ht;function gr(t,r,s){return r.imageData?Je({mediaType:r.contentType||"image/png",isBase64:!0,data:r.imageData}):vo(r.url,s)}function vo(t,r){var s;return vr(r)&&!xe(t)&&((s=r==null?void 0:r.layer)!=null&&s.parsedUrl)?Ho(r.layer.parsedUrl.path,"images",t):ze(t,r)}function wr(t,r,s,i){if(Be(t)){const a=Io(t);if(!a)return;r.contentType=a.mediaType,r.imageData=a.data,s&&s.imageData===r.imageData&&s.url&&_t(s.url,r,"url",i)}else _t(t,r,"url",i)}const $o={json:{read:{source:["imageData","url"],reader:gr},write:{writer(t,r,s,i){wr(t,r,this.source,i)}}}},So={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,r,s){const i={};return r.imageData&&(i.imageData=r.imageData),r.contentType&&(i.contentType=r.contentType),r.url&&(i.url=vo(r.url,s)),i}}}};function vr(t){var r,s;return!(t==null||t.origin!=="service"&&t.origin!=="portal-item"||((r=t.layer)==null?void 0:r.type)!=="feature"&&((s=t.layer)==null?void 0:s.type)!=="stream")}var me;let g=me=class extends _o{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,r,s,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const a={};return t&&(a.url=t),r&&(a.outline=r),s!=null&&(a.width=c(s)),i!=null&&(a.height=c(i)),a}clone(){const t=new me({color:n(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",n(this.source)),t}hash(){var t;return`${super.hash()}.${(t=this.color)==null?void 0:t.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};e([y({esriPFS:"picture-fill"},{readOnly:!0})],g.prototype,"type",void 0),e([o($o)],g.prototype,"url",void 0),e([o({type:Number,json:{write:!0}})],g.prototype,"xscale",void 0),e([o({type:Number,json:{write:!0}})],g.prototype,"yscale",void 0),e([o({type:Number,cast:c,json:{write:!0}})],g.prototype,"width",void 0),e([o({type:Number,cast:c,json:{write:!0}})],g.prototype,"height",void 0),e([o({type:Number,cast:c,json:{write:!0}})],g.prototype,"xoffset",void 0),e([o({type:Number,cast:c,json:{write:!0}})],g.prototype,"yoffset",void 0),e([o(So)],g.prototype,"source",void 0),g=me=e([l("esri.symbols.PictureFillSymbol")],g);const jo=g;var be;let v=be=class extends go{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,r,s){if(t&&typeof t!="string"&&t.imageData==null)return t;const i={};return t&&(i.url=t),r!=null&&(i.width=c(r)),s!=null&&(i.height=c(s)),i}readHeight(t,r){return r.size||t}readWidth(t,r){return r.size||t}clone(){const t=new be({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",n(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};e([o({json:{write:!1}})],v.prototype,"color",void 0),e([y({esriPMS:"picture-marker"},{readOnly:!0})],v.prototype,"type",void 0),e([o($o)],v.prototype,"url",void 0),e([o(So)],v.prototype,"source",void 0),e([o({type:Number,cast:c,json:{write:!0}})],v.prototype,"height",void 0),e([wt("height",["height","size"])],v.prototype,"readHeight",null),e([o({type:Number,cast:c,json:{write:!0}})],v.prototype,"width",void 0),e([o({json:{write:!1}})],v.prototype,"size",void 0),v=be=e([l("esri.symbols.PictureMarkerSymbol")],v);const Ae=v;var J;const xo=H.ofType({base:null,key:"type",typeMap:{icon:G,object:Ne,text:st}});let K=J=class extends St{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new xo,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return co(this)}hasVisibleVerticalOffset(){return Ce(this)}clone(){return new J({verticalOffset:n(this.verticalOffset),callout:n(this.callout),styleOrigin:n(this.styleOrigin),symbolLayers:n(this.symbolLayers),thumbnail:n(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new J({symbolLayers:[G.fromSimpleMarkerSymbol(t)]})}static fromPictureMarkerSymbol(t){return new J({symbolLayers:[G.fromPictureMarkerSymbol(t)]})}static fromCIMSymbol(t){var i,a;if(((a=(i=t.data)==null?void 0:i.symbol)==null?void 0:a.type)!=="CIMPointSymbol")return null;const s=t.data.symbol;return new J(s!=null&&s.callout?{symbolLayers:[G.fromCIMSymbol(t)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}:{symbolLayers:[G.fromCIMSymbol(t)]})}static fromTextSymbol(t){return new J({symbolLayers:[st.fromTextSymbol(t)]})}};e([o({type:mo,json:{write:!0}})],K.prototype,"verticalOffset",void 0),e([o(uo)],K.prototype,"callout",void 0),e([o({type:xo,json:{origins:{"web-scene":{write:!0}}}})],K.prototype,"symbolLayers",void 0),e([y({PointSymbol3D:"point-3d"},{readOnly:!0})],K.prototype,"type",void 0),K=J=e([l("esri.symbols.PointSymbol3D")],K);const Te=K;var ct;const zo=H.ofType({base:null,key:"type",typeMap:{extrude:Ye,fill:vt,icon:G,line:$t,object:Ne,text:st,water:ao}});let ut=ct=class extends St{constructor(t){super(t),this.symbolLayers=new zo,this.type="polygon-3d"}clone(){return new ct({styleOrigin:n(this.styleOrigin),symbolLayers:n(this.symbolLayers),thumbnail:n(this.thumbnail)})}static fromJSON(t){const r=new ct;if(r.read(t),r.symbolLayers.length===2&&r.symbolLayers.getItemAt(0).type==="fill"&&r.symbolLayers.getItemAt(1).type==="line"){const s=r.symbolLayers.getItemAt(0),i=r.symbolLayers.getItemAt(1);!i.enabled||t.symbolLayers&&t.symbolLayers[1]&&t.symbolLayers[1].enable===!1||(s.outline={size:i.size,color:p(i.material)?i.material.color:null}),r.symbolLayers.removeAt(1)}return r}static fromSimpleFillSymbol(t){return new ct({symbolLayers:[vt.fromSimpleFillSymbol(t)]})}};e([o({type:zo,json:{write:!0}})],ut.prototype,"symbolLayers",void 0),e([y({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],ut.prototype,"type",void 0),ut=ct=e([l("esri.symbols.PolygonSymbol3D")],ut);const We=ut;var fe;const Rt=new Ao({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let L=fe=class extends go{constructor(...t){super(...t),this.color=new u([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Wt}normalizeCtorArgs(t,r,s,i){if(t&&typeof t!="string")return t;const a={};return t&&(a.style=t),r!=null&&(a.size=c(r)),s&&(a.outline=s),i&&(a.color=i),a}writeColor(t,r){t&&this.style!=="x"&&this.style!=="cross"&&(r.color=t.toJSON()),t===null&&(r.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new fe({angle:this.angle,color:n(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(t=this.outline)==null?void 0:t.hash()}`}};e([o()],L.prototype,"color",void 0),e([Q("color")],L.prototype,"writeColor",null),e([y({esriSMS:"simple-marker"},{readOnly:!0})],L.prototype,"type",void 0),e([o()],L.prototype,"size",void 0),e([o({type:Rt.apiValues,json:{read:Rt.read,write:Rt.write}})],L.prototype,"style",void 0),e([o({type:String,json:{write:!0}})],L.prototype,"path",null),e([o({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Wt}},json:{default:null,write:!0}})],L.prototype,"outline",void 0),L=fe=e([l("esri.symbols.SimpleMarkerSymbol")],L);const Ue=L;var ge;let h=ge=class extends k{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Ht,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,r,s){if(t&&typeof t!="string")return t;const i={};return t&&(i.text=t),r&&(i.font=r),s&&(i.color=s),i}writeLineWidth(t,r,s,i){i&&typeof i!="string"?i.origin:r[s]=t}castLineWidth(t){return c(t)}writeLineHeight(t,r,s,i){i&&typeof i!="string"?i.origin:r[s]=t}clone(){return new ge({angle:this.angle,backgroundColor:n(this.backgroundColor),borderLineColor:n(this.borderLineColor),borderLineSize:this.borderLineSize,color:n(this.color),font:this.font&&this.font.clone(),haloColor:n(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t;return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(t=this.color)==null?void 0:t.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};e([o({type:u,json:{write:!0}})],h.prototype,"backgroundColor",void 0),e([o({type:u,json:{write:!0}})],h.prototype,"borderLineColor",void 0),e([o({type:Number,json:{write:!0}})],h.prototype,"borderLineSize",void 0),e([o({type:Ht,json:{write:!0}})],h.prototype,"font",void 0),e([o({...io,json:{write:!0}})],h.prototype,"horizontalAlignment",void 0),e([o({type:Boolean,json:{write:!0}})],h.prototype,"kerning",void 0),e([o({type:u,json:{write:!0}})],h.prototype,"haloColor",void 0),e([o({type:Number,cast:c,json:{write:!0}})],h.prototype,"haloSize",void 0),e([o({type:Boolean,json:{write:!0}})],h.prototype,"rightToLeft",void 0),e([o({type:Boolean,json:{write:!0}})],h.prototype,"rotated",void 0),e([o({type:String,json:{write:!0}})],h.prototype,"text",void 0),e([y({esriTS:"text"},{readOnly:!0})],h.prototype,"type",void 0),e([o({...lo,json:{write:!0}})],h.prototype,"verticalAlignment",void 0),e([o({type:Number,cast:c,json:{write:!0}})],h.prototype,"xoffset",void 0),e([o({type:Number,cast:c,json:{write:!0}})],h.prototype,"yoffset",void 0),e([o({type:Number,json:{read:t=>t&&-1*t,write:(t,r)=>r.angle=t&&-1*t}})],h.prototype,"angle",void 0),e([o({type:Number,json:{write:!0}})],h.prototype,"width",void 0),e([o({type:Number})],h.prototype,"lineWidth",void 0),e([Q("lineWidth")],h.prototype,"writeLineWidth",null),e([ve("lineWidth")],h.prototype,"castLineWidth",null),e([o(so)],h.prototype,"lineHeight",void 0),e([Q("lineHeight")],h.prototype,"writeLineHeight",null),h=ge=e([l("esri.symbols.TextSymbol")],h);const It=h;var we;let $=we=class extends k{constructor(t){super(t),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=p(this.portal)?this.portal:Ut.getDefault(),r=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${r}:${t.url}`}read(t,r){this.portal=r?r.portal:void 0,super.read(t,r)}clone(){return new we({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol("webRef",t)}fetchCIMSymbol(t){return this._fetchSymbol("cimRef",t)}async _fetchSymbol(t,r){const s=p(r)?r.cache:null,i=s?this._fetchCacheKey:null;if(p(s)){const F=i&&s.get(i);if(F)return F.clone()}const a=await $r();Eo(r);const D=a.resolveWebStyleSymbol(this,{portal:this.portal},t,r);D.catch(F=>{$e.getLogger(this.declaredClass).error("#fetchSymbol()","Failed to create symbol from style",F)});const C=await D;return t==="webRef"&&C.type==="point-3d"||t==="cimRef"&&C.type==="cim"?(p(s)&&s.set(i,C.clone()),C):null}};function $r(){return qo(()=>import("./webStyleSymbolUtils-d72df331.js"),["assets/webStyleSymbolUtils-d72df331.js","assets/devEnvironmentUtils-5002a058.js","assets/Error-e5869661.js","assets/string-46813dd9.js","assets/typedArrayUtil-6bfe4dae.js","assets/request-0ae6f728.js","assets/preload-helper-596b5639.js","assets/promiseUtils-281d25c9.js","assets/Portal-ed3455de.js","assets/cast-34ff1fab.js","assets/ensureType-abaf235a.js","assets/nextTick-3ee5a785.js","assets/Loadable-3c0fb2d0.js","assets/Promise-19e65545.js","assets/Extent-b8913cd1.js","assets/locale-30120714.js","assets/PortalGroup-506cda94.js","assets/jsonMap-92eea954.js","assets/PortalUser-d46abb74.js","assets/persistableUrlUtils-94eb42ca.js","assets/jsonUtils-755eca46.js","assets/SimpleFillSymbol-80498a78.js","assets/Color-0f9fdd46.js","assets/colorUtils-639f4d25.js","assets/mathUtils-daf59e84.js","assets/common-701a4199.js","assets/enumeration-e40d8895.js","assets/screenUtils-7afeb41c.js","assets/Symbol-8a110cc7.js","assets/styleUtils-a2eec9c1.js","assets/CIMSymbol-31fb7ca2.js","assets/fieldUtils-ba80cc48.js","assets/arcadeOnDemand-8d1e3277.js","assets/geometry-1b3a0099.js","assets/Polyline-7684a66d.js","assets/typeUtils-0cf27003.js","assets/opacityUtils-ea6b845d.js","assets/aaBoundingBox-77ee83e3.js","assets/Collection-3317d203.js","assets/Evented-fac53f7f.js","assets/SimpleObservable-f97014ec.js","assets/collectionUtils-23cca63a.js","assets/Clonable-a26a28b0.js"])}e([o({json:{write:!1}})],$.prototype,"color",void 0),e([o({type:String,json:{write:!0}})],$.prototype,"styleName",void 0),e([o({type:Ut,json:{write:!1}})],$.prototype,"portal",void 0),e([o({type:String,json:{read:Xe,write:_t}})],$.prototype,"styleUrl",void 0),e([o({type:gt,json:{read:!1}})],$.prototype,"thumbnail",void 0),e([o({type:String,json:{write:!0}})],$.prototype,"name",void 0),e([y({styleSymbolReference:"web-style"},{readOnly:!0})],$.prototype,"type",void 0),e([o()],$.prototype,"_fetchCacheKey",null),$=we=e([l("esri.symbols.WebStyleSymbol")],$);const Ft=$;function os(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function rs(t){if(!t)return!1;switch(t.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const Lo={base:k,key:"type",typeMap:{"simple-fill":Ee,"picture-fill":jo,"picture-marker":Ae,"simple-line":Wt,"simple-marker":Ue,text:It,"label-3d":Me,"line-3d":Pe,"mesh-3d":_e,"point-3d":Te,"polygon-3d":We,"web-style":Ft,cim:Tt},errorContext:"symbol"},ss={base:k,key:"type",typeMap:{"picture-marker":Ae,"simple-marker":Ue,text:It,"web-style":Ft,cim:Tt},errorContext:"symbol"},is=No({types:Lo}),ls={base:k,key:"type",typeMap:{"simple-fill":Ee,"picture-fill":jo,"picture-marker":Ae,"simple-line":Wt,"simple-marker":Ue,text:It,"line-3d":Pe,"mesh-3d":_e,"point-3d":Te,"polygon-3d":We,"web-style":Ft,cim:Tt},errorContext:"symbol"},ns={base:k,key:"type",typeMap:{text:It,"label-3d":Me},errorContext:"symbol"},as={base:k,key:"type",typeMap:{"line-3d":Pe,"mesh-3d":_e,"point-3d":Te,"polygon-3d":We,"web-style":Ft,cim:Tt},errorContext:"symbol"},ps={base:k,key:"type",typeMap:{"label-3d":Me},errorContext:"symbol"},ys=ko(Lo);export{ss as D,ps as F,ls as M,ns as P,We as S,Te as a,Pe as b,rs as c,_e as d,Me as e,Ft as f,ys as g,as as h,is as i,Lo as j,St as k,w as l,It as m,Ae as n,ye as o,gt as p,Yr as q,Qe as r,Qr as t,os as x,Ue as y};
